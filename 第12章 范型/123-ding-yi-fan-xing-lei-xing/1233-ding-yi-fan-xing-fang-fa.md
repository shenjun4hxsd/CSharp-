##å®šä¹‰æ³›å‹æ–¹æ³•

&emsp;&emsp;ä¸Šä¸ªç¤ºä¾‹ä¸­ä½¿ç”¨äº†æ–¹æ³•GetCows()ã€‚åœ¨è®¨è®ºè¿™ä¸ªç¤ºä¾‹æ—¶ä¹Ÿæåˆ°ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ–¹æ³•å¾—åˆ°è¿™ä¸ªæ–¹æ³•çš„æ›´ä¸€èˆ¬å½¢å¼ã€‚æœ¬èŠ‚å°†è¯´æ˜å¦‚ä½•è¾¾åˆ°è¿™ä¸€ç›®æ ‡ã€‚åœ¨æ³›å‹æ–¹æ³•ä¸­ï¼Œè¿”å›ç±»å‹å’Œï¼æˆ–å‚æ•°ç±»å‹ç”±æ³›å‹ç±»å‹å‚æ•°æ¥ç¡®å®šã€‚ä¾‹å¦‚ï¼š

```csharp
    public T GetDefault<T>()
    {
        return default(T);
    }
```

&emsp;&emsp;è¿™ä¸ªå°ç¤ºä¾‹ä½¿ç”¨æœ¬ç« å‰é¢ä»‹ç»çš„defaultå…³é”®å­—ï¼Œä¸ºç±»å‹Tè¿”å›é»˜è®¤å€¼ã€‚è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨å¦‚ä¸‹æ‰€ç¤ºï¼š

```csharp
    int myDefault = GetDefault<int>();
```

&emsp;&emsp;åœ¨è°ƒç”¨è¯¥æ–¹æ³•æ—¶æä¾›äº†ç±»å‹å‚æ•°Tã€‚

&emsp;&emsp;è¿™ä¸ªTä¸ç”¨äºç»™ç±»æä¾›æ³›å‹ç±»å‹å‚æ•°çš„ç±»å‹å·®å¼‚æå¤§ã€‚å®é™…ä¸Šï¼Œå¯ä»¥é€šè¿‡éæ³›å‹ç±»æ¥å®ç°æ³›å‹æ–¹æ³•ï¼š

```csharp
    public class Defaulter
    {
        public T GetDefault<T>()
        {
            return default(T);
        }
    }
```

&emsp;&emsp;ä½†å¦‚æœç±»æ˜¯æ³›å‹çš„ï¼Œå°±å¿…é¡»ä¸ºæ³›å‹æ–¹æ³•ç±»å‹ä½¿ç”¨ä¸åŒçš„æ ‡è¯†ç¬¦ã€‚ä¸‹é¢çš„ä»£ç ä¸ä¼šç¼–è¯‘ï¼š

```csharp
    public class Defaulter<T>
    {
        public T GetDefault<T>()   // âŒ
        {
            return default(T);
        }
    }
```

&emsp;&emsp;å¿…é¡»é‡å‘½åæ–¹æ³•æˆ–ç±»ä½¿ç”¨çš„ç±»å‹Tã€‚

&emsp;&emsp;æ³›å‹æ–¹æ³•å‚æ•°å¯ä»¥é‡‡ç”¨ä¸ç±»ç›¸åŒçš„æ–¹å¼ä½¿ç”¨çº¦æŸï¼Œåœ¨æ­¤å¯ä»¥ä½¿ç”¨ä»»æ„çš„ç±»ç±»å‹å‚æ•°ï¼Œä¾‹å¦‚ï¼š

```csharp
    public class Defaulter<T1>
    {
        public T2 GetDefault<T2>()
        where T2 : T1
        {
            return default(T2);
        }
    }
```

&emsp;&emsp;å…¶ä¸­ï¼Œä¸ºæ–¹æ³•æä¾›çš„ç±»å‹T2å¿…é¡»ä¸ç»™ç±»æä¾›çš„T1ç›¸åŒï¼Œæˆ–è€…ç»§æ‰¿è‡ªT1ã€‚è¿™æ˜¯çº¦æŸæ³›å‹æ–¹æ³•çš„å¸¸ç”¨æ–¹å¼ã€‚

&emsp;&emsp;åœ¨å‰é¢çš„`Farm<T>`ç±»ä¸­ï¼Œå¯ä»¥åŒ…å«ä¸‹é¢çš„æ–¹æ³•ï¼š

```csharp
    public Farm<U> GetSpecies<U>() where U : T
    {
        Farm<U> speciesFarm = new Farm<U>();
        foreach(T animal in animals)
        {
            if(animal is U)
            {
                speciesFarm.Animals.Add(animal as U);
            }
        }
        return speciesFarm;
    }
```

&emsp;&emsp;è¿™å¯ä»¥æ›¿ä»£GetCows()å’Œç›¸åŒç±»å‹çš„å…¶ä»–æ–¹æ³•ã€‚è¿™é‡Œä½¿ç”¨çš„æ³›å‹ç±»å‹å‚æ•°Uç”±Tçº¦æŸï¼ŒTåˆç”±`Farm<T>`ç±»çº¦æŸä¸ºAnimalã€‚å› æ­¤ï¼Œå¦‚æœæ„¿æ„ï¼Œå¯ä»¥æŠŠTçš„å®ä¾‹è§†ä¸ºAnimalçš„å®ä¾‹ã€‚

&emsp;&emsp;åœ¨Program.csä¸­ï¼Œä½¿ç”¨è¿™ä¸ªæ–°æ–¹æ³•éœ€è¦è¿›è¡Œä¸€å¤„ä¿®æ”¹ï¼š

```csharp
    Farm<Cow> dairyFarm = farm.GetSpecies<Cow>();
```

&emsp;&emsp;ä¹Ÿå¯ä»¥ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š

```csharp
    Farm<Chicken> poultryFarm = farm.GetSpecies<Chicken>();
```

&emsp;&emsp;å¯¹äºç»§æ‰¿äº†Animalçš„å…¶ä»–ç±»ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚

&emsp;&emsp;è¿™é‡Œè¦æ³¨æ„ï¼Œå¦‚æœæŸä¸ªæ–¹æ³•æœ‰æ³›å‹ç±»å‹å‚æ•°ï¼Œä¼šæ”¹å˜è¯¥æ–¹æ³•çš„ç­¾åã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥æ–¹æ³•æœ‰å‡ ä¸ªé‡è½½ç‰ˆæœ¬ï¼Œå®ƒä»¬ä»…åœ¨æ³›å‹ç±»å‹å‚æ•°ä¸Šæœ‰åŒºåˆ«ã€‚ä¾‹å¦‚ï¼š

```csharp
    public void ProcessT<T>(T op1)
    {
        ...
    }
    
    public vid ProcessT<T, U>(T op1)
    {
        ...
    }
```

&emsp;&emsp;ä½¿ç”¨å“ªä¸ªæ–¹æ³•å–å†³äºè°ƒç”¨æ–¹æ³•æ—¶æŒ‡å®šçš„æ³›å‹ç±»å‹å‚æ•°çš„ä¸ªæ•°ã€‚



ğŸ”š

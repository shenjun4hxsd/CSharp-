##自动属性

&emsp;&emsp;属性是访问对象状态的首选方式，因为它们禁止外部代码访问对象内部的数据存储机制的实现。属性还对内部数据的访问方式施加了更多的控制，本章代码在多处体现了这一点。但是，一般以非常标准的方式定义属性，即通过一个公共属性来直接访问一个私有成员。其代码非常类似于上一节的代码，这是VS重构工具自动生成的。

&emsp;&emsp;重构功能肯定加快了键入速度，不过除此以外，C#还提供了另一种方式：自动属性。对于自动属性，可以用简化的语法声明属性，C#编译器会自动添加未键入的内容。确切地讲，编译器会声明一个用于存储属性的私有字段，并在属性的 `get` 和 `set` 块中使用该字段，我们不必考虑细节。

&emsp;&emsp;使用下面的代码结构就可以定义一个自动属性：

```csharp
        public int MyIntProp
        {
            get;
            set;
        }
```

&emsp;&emsp;甚至可以在一行代码上定义自动属性，以便节省空间，而不会过度地降低属性的可读性：

```csharp
        public int MyIntProp { get; set; }
```
&emsp;&emsp;我们按照通常的方式定义属性的可访问性、类型和名称，但没有给 `get`和 `set` 块提供实现代码。这些块的实现代码（和底层的字段）都由编译器提供。


&emsp;&emsp;使用自动属性时，只能通过属性访问数据，不能通过底层的私有字段来访问，因为我们不知道底层私有字段的名称（该名称是在编译期间定义的）。但这并不是一个真正意义上的限制，因为可以直接使用属性名。自动属性的唯一限制是它们必须包含 `get` 和 `set` 存取器，无法使用这种方式定义只读或只写属性。但可以改变这些存取器的可访问性。例如，可以采用如下方式创建一个外部只读属性：

```csharp
        public int MyIntProp { get; private set; }
```

&emsp;&emsp;此时，只能在类定义的代码中访问 `MyIntProp` 的值。





🔚